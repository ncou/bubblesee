"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),Bubblesee=function(){function e(t,n,l){_classCallCheck(this,e),this.element=t,this.animation=null!==n?n.split(" "):n,l&&(this.custom=l);var i=this.element.getAttribute("data-bubble");this.title=i?document.querySelector(i).innerHTML:t.getAttribute("title"),this.bubblesee=null,this.element.addEventListener("mouseover",this.mouseOver.bind(this),!1),this.element.addEventListener("mouseout",this.mouseOut.bind(this),!1)}return _createClass(e,null,[{key:"bind",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.querySelectorAll(t),s=i.length-1;s>=0;s--)new e(i[s],n,l)}}]),_createClass(e,[{key:"mouseOver",value:function(){var e=this.createBubble(),t=e.offsetWidth,n=e.offsetHeight,l=this.element.offsetWidth/2-t/2+this.element.getBoundingClientRect().left+document.documentElement.scrollLeft,i=this.element.getBoundingClientRect().top-n-15+document.documentElement.scrollTop;i<50&&(i=this.element.getBoundingClientRect().top+n+15+document.documentElement.scrollTop,e.classList.add("bubblesee__bottom")),e.style.left=l+"px",e.style.top=i+"px",e.classList.add("bubblesee__visible"),this.element.setAttribute("title","")}},{key:"mouseOut",value:function(){var e=this;if(null!==this.bubblesee){this.bubblesee.classList.remove("bubblesee__visible");var t=["transitionend","OTransitionEnd","webkitTransitionEnd"];for(var n in t)this.bubblesee.addEventListener(t[n],function(){null!==e.bubblesee&&(e.element.setAttribute("title",e.title),document.body.removeChild(e.bubblesee),e.bubblesee=null)})}}},{key:"createBubble",value:function(){if(null===this.bubblesee){var e=document.createElement("div");e.innerHTML=this.title,e.classList.add("bubblesee"),document.body.appendChild(e),this.bubblesee=e,null!==this.animation&&this.animation.forEach(function(t,n){e.classList.add("bubblesee__"+t)}),this.custom&&e.classList.add(this.custom)}return this.bubblesee}}]),e}();